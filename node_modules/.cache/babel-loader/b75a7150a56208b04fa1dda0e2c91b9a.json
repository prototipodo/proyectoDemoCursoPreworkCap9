{"ast":null,"code":"import _toConsumableArray from \"/home/proto/personalProjects/cursoIntroduccionReact/curso4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/proto/personalProjects/cursoIntroduccionReact/curso4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/proto/personalProjects/cursoIntroduccionReact/curso4/src/TodoContext/Index.js\";\nimport React from 'react';\nimport { useLocalStorage } from './useLocalStorage';\nvar TodoContext = React.createContext();\nfunction TodoProvider(props) {\n  var _useLocalStorage = useLocalStorage('TODOS_V1', []),\n    todos = _useLocalStorage.item,\n    saveTodos = _useLocalStorage.saveItem,\n    loading = _useLocalStorage.loading,\n    error = _useLocalStorage.error;\n  var _React$useState = React.useState(''),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    searchValue = _React$useState2[0],\n    setSearchValue = _React$useState2[1];\n  var _React$useState3 = React.useState(false),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    openModal = _React$useState4[0],\n    setOpenModal = _React$useState4[1];\n  var completedTodos = todos.filter(function (todo) {\n    return !!todo.completed;\n  }).length;\n  var totalTodos = todos.length;\n  var searchedTodos = [];\n  if (!searchValue.length >= 1) {\n    searchedTodos = todos;\n  } else {\n    searchedTodos = todos.filter(function (todo) {\n      var todoText = todo.text.toLowerCase();\n      var searchText = searchValue.toLowerCase();\n      return todoText.includes(searchText);\n    });\n  }\n  var addTodo = function addTodo(text) {\n    var newTodos = _toConsumableArray(todos);\n    newTodos.push({\n      completed: false,\n      text: text\n    });\n    saveTodos(newTodos);\n  };\n  var completeTodo = function completeTodo(text) {\n    var todoIndex = todos.findIndex(function (todo) {\n      return todo.text === text;\n    });\n    var newTodos = _toConsumableArray(todos);\n    newTodos[todoIndex].completed = true;\n    saveTodos(newTodos);\n  };\n  var deleteTodo = function deleteTodo(text) {\n    var todoIndex = todos.findIndex(function (todo) {\n      return todo.text === text;\n    });\n    var newTodos = _toConsumableArray(todos);\n    newTodos.splice(todoIndex, 1);\n    saveTodos(newTodos);\n  };\n  return /*#__PURE__*/React.createElement(TodoContext.Provider, {\n    value: {\n      loading: loading,\n      error: error,\n      totalTodos: totalTodos,\n      completedTodos: completedTodos,\n      searchValue: searchValue,\n      setSearchValue: setSearchValue,\n      searchedTodos: searchedTodos,\n      addTodo: addTodo,\n      completeTodo: completeTodo,\n      deleteTodo: deleteTodo,\n      openModal: openModal,\n      setOpenModal: setOpenModal\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, props.children);\n}\nexport { TodoContext, TodoProvider };","map":{"version":3,"names":["React","useLocalStorage","TodoContext","createContext","TodoProvider","props","_useLocalStorage","todos","item","saveTodos","saveItem","loading","error","_React$useState","useState","_React$useState2","_slicedToArray","searchValue","setSearchValue","_React$useState3","_React$useState4","openModal","setOpenModal","completedTodos","filter","todo","completed","length","totalTodos","searchedTodos","todoText","text","toLowerCase","searchText","includes","addTodo","newTodos","_toConsumableArray","push","completeTodo","todoIndex","findIndex","deleteTodo","splice","createElement","Provider","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","children"],"sources":["/home/proto/personalProjects/cursoIntroduccionReact/curso4/src/TodoContext/Index.js"],"sourcesContent":["import React from 'react';\nimport { useLocalStorage } from './useLocalStorage';\n\nconst TodoContext = React.createContext();\n\nfunction TodoProvider(props) {\n\n    const {\n        item: todos,\n        saveItem: saveTodos,\n        loading,\n        error,\n      } = useLocalStorage('TODOS_V1', []);\n      const [searchValue, setSearchValue] = React.useState('');\n    \n      const [openModal, setOpenModal] = React.useState(false);\n\n      const completedTodos = todos.filter(todo => !!todo.completed).length;\n      const totalTodos = todos.length;\n    \n      let searchedTodos =  [];\n    \n      if(!searchValue.length >= 1) {\n        searchedTodos = todos;\n      } else {\n        searchedTodos = todos.filter(todo => {\n          const todoText = todo.text.toLowerCase();\n          const searchText = searchValue.toLowerCase();\n          return todoText.includes(searchText);\n        });\n      }\n    \n      const addTodo = (text) => {        \n        const newTodos = [...todos];\n        newTodos.push({\n          completed: false,\n          text,\n        });\n        saveTodos(newTodos);\n      };\n\n      const completeTodo = (text) => {\n        const  todoIndex = todos.findIndex(todo => todo.text === text);\n        \n        const newTodos = [...todos];\n        newTodos[todoIndex].completed = true;\n        saveTodos(newTodos);\n      };\n    \n      const deleteTodo = (text) => {\n        const  todoIndex = todos.findIndex(todo => todo.text === text);\n        \n        const newTodos = [...todos];\n        newTodos.splice(todoIndex, 1);\n        saveTodos(newTodos);\n      };\n\n    return(\n        <TodoContext.Provider value={{\n            loading,\n            error,\n            totalTodos,\n            completedTodos,\n            searchValue,\n            setSearchValue,\n            searchedTodos,\n            addTodo,\n            completeTodo,\n            deleteTodo,\n            openModal,\n            setOpenModal,\n            \n        }}>\n            {props.children}\n        </TodoContext.Provider>\n    );\n}\n\nexport { TodoContext, TodoProvider};"],"mappings":"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"},"metadata":{},"sourceType":"module"}