{"ast":null,"code":"import _slicedToArray from \"/home/proto/personalProjects/cursoIntroduccionReact/curso4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React from 'react';\nfunction useLocalStorage(itemName, initialValue) {\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    error = _React$useState2[0],\n    setError = _React$useState2[1];\n  var _React$useState3 = React.useState(true),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    loading = _React$useState4[0],\n    setLoading = _React$useState4[1];\n  var _React$useState5 = React.useState(initialValue),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    item = _React$useState6[0],\n    setItem = _React$useState6[1];\n  React.useEffect(function () {\n    setTimeout(function () {\n      try {\n        var localStorageItem = localStorage.getItem(itemName);\n        var parsedItem;\n        if (!localStorageItem) {\n          localStorage.setItem(itemName, JSON.stringify(initialValue));\n          parsedItem = initialValue;\n        } else {\n          parsedItem = JSON.parse(localStorageItem);\n        }\n        setItem(parsedItem);\n        setLoading(false);\n      } catch (error) {\n        setError(error);\n      }\n    }, 1000);\n  });\n  var saveItem = function saveItem(newItem) {\n    try {\n      var stringifiedItem = JSON.stringify(newItem);\n      localStorage.setItem(itemName, stringifiedItem);\n      setItem(newItem);\n    } catch (error) {\n      setError(error);\n    }\n  };\n  return {\n    item: item,\n    saveItem: saveItem,\n    loading: loading,\n    error: error\n  };\n}\nexport { useLocalStorage };","map":{"version":3,"names":["React","useLocalStorage","itemName","initialValue","_React$useState","useState","_React$useState2","_slicedToArray","error","setError","_React$useState3","_React$useState4","loading","setLoading","_React$useState5","_React$useState6","item","setItem","useEffect","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","stringify","parse","saveItem","newItem","stringifiedItem"],"sources":["/home/proto/personalProjects/cursoIntroduccionReact/curso4/src/TodoContext/useLocalStorage.js"],"sourcesContent":["import React from 'react';\n\nfunction useLocalStorage(itemName, initialValue) {\n\n    const [error, setError] = React.useState(false);\n    const [loading, setLoading] = React.useState(true);\n    const [item, setItem] = React.useState(initialValue);\n  \n    React.useEffect(() => {\n      setTimeout(() => {\n        try {\n          const localStorageItem = localStorage.getItem(itemName);\n          let parsedItem;\n  \n          if(!localStorageItem) {\n            localStorage.setItem(itemName, JSON.stringify(initialValue));\n            parsedItem = initialValue;\n          } else {\n            parsedItem = JSON.parse(localStorageItem);\n          }\n  \n          setItem(parsedItem);\n          setLoading(false);\n        } catch(error) {\n          setError(error)\n        }\n      }, 1000);\n    });\n  \n    \n  \n    const saveItem = (newItem) => {\n      try {\n        const stringifiedItem = JSON.stringify(newItem);\n        localStorage.setItem(itemName, stringifiedItem);\n        setItem(newItem);\n      } catch(error) {\n          setError(error)\n      }\n      \n    };\n  \n  \n    return {\n      item,\n      saveItem,\n      loading,\n      error,\n    };\n  }\n\n  export {useLocalStorage};"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,eAAeA,CAACC,QAAQ,EAAEC,YAAY,EAAE;EAAA,IAAAC,eAAA,GAEnBJ,KAAK,CAACK,QAAQ,CAAC,KAAK,CAAC;IAAAC,gBAAA,GAAAC,cAAA,CAAAH,eAAA;IAAxCI,KAAK,GAAAF,gBAAA;IAAEG,QAAQ,GAAAH,gBAAA;EAAA,IAAAI,gBAAA,GACQV,KAAK,CAACK,QAAQ,CAAC,IAAI,CAAC;IAAAM,gBAAA,GAAAJ,cAAA,CAAAG,gBAAA;IAA3CE,OAAO,GAAAD,gBAAA;IAAEE,UAAU,GAAAF,gBAAA;EAAA,IAAAG,gBAAA,GACFd,KAAK,CAACK,QAAQ,CAACF,YAAY,CAAC;IAAAY,gBAAA,GAAAR,cAAA,CAAAO,gBAAA;IAA7CE,IAAI,GAAAD,gBAAA;IAAEE,OAAO,GAAAF,gBAAA;EAEpBf,KAAK,CAACkB,SAAS,CAAC,YAAM;IACpBC,UAAU,CAAC,YAAM;MACf,IAAI;QACF,IAAMC,gBAAgB,GAAGC,YAAY,CAACC,OAAO,CAACpB,QAAQ,CAAC;QACvD,IAAIqB,UAAU;QAEd,IAAG,CAACH,gBAAgB,EAAE;UACpBC,YAAY,CAACJ,OAAO,CAACf,QAAQ,EAAEsB,IAAI,CAACC,SAAS,CAACtB,YAAY,CAAC,CAAC;UAC5DoB,UAAU,GAAGpB,YAAY;QAC3B,CAAC,MAAM;UACLoB,UAAU,GAAGC,IAAI,CAACE,KAAK,CAACN,gBAAgB,CAAC;QAC3C;QAEAH,OAAO,CAACM,UAAU,CAAC;QACnBV,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,CAAC,OAAML,KAAK,EAAE;QACbC,QAAQ,CAACD,KAAK,CAAC;MACjB;IACF,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,CAAC;EAIF,IAAMmB,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,OAAO,EAAK;IAC5B,IAAI;MACF,IAAMC,eAAe,GAAGL,IAAI,CAACC,SAAS,CAACG,OAAO,CAAC;MAC/CP,YAAY,CAACJ,OAAO,CAACf,QAAQ,EAAE2B,eAAe,CAAC;MAC/CZ,OAAO,CAACW,OAAO,CAAC;IAClB,CAAC,CAAC,OAAMpB,KAAK,EAAE;MACXC,QAAQ,CAACD,KAAK,CAAC;IACnB;EAEF,CAAC;EAGD,OAAO;IACLQ,IAAI,EAAJA,IAAI;IACJW,QAAQ,EAARA,QAAQ;IACRf,OAAO,EAAPA,OAAO;IACPJ,KAAK,EAALA;EACF,CAAC;AACH;AAEA,SAAQP,eAAe"},"metadata":{},"sourceType":"module"}